<div class="content-header border-bottom mb-4">
    <h1>Build Management</h1>
</div>

<!-- All Builds -->
<div class="content">

    <div class="mb-2">
        <h3>All Builds</h3>
    </div>

    <div class="table-responsive indent-content">
        <table class="table table-striped table-sm">
            <thead>
                <tr>
                    <th>id</th>
                    <th>name</th>
                    <th>type</th>
                    <th>file_size</th>
                    <th>file_path</th>
                    <th>enabled</th>
                </tr>
            </thead>

            <tbody *ngFor="let build of builds">
                <tr>
                    <td>{{build.id}}</td>
                    <td>{{build.name}}</td>
                    <td>{{build.type.name}}</td>
                    <td>{{build.file_size}}</td>
                    <td>{{build.file_path}}</td>
                    <td>{{build.enabled}}</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<!-- Create Build -->
<div class="content-header border-bottom mb-4">
    <h3>Create Build</h3>
</div>

<div class="content">
    <form class="indent-content" style="max-width: 30vw;">
        <div class="form-group">
            <input [(ngModel)]="createBuild.name" name="createBuild.name" type="text" class="form-control"
                placeholder="Name">
        </div>
    
        <div class="custom-file">
            <input (change)="onFileChange($event)" type="file" accept=".dll" class="custom-file-input" required>
            <label class="custom-file-label" for="validatedCustomFile">Choose file...</label>
        </div>
    
        <div class="form-group">
            <select class="custom-select" [(ngModel)]="createBuild.type" name="createBuild.type">
                <option *ngFor="let type of buildTypes">{{type.name}}</option>
            </select>
        </div>
    
        <div class="form-group">
            <label>Changelog</label>
            <textarea [(ngModel)]="createBuild_Changelog" name="createBuild_Changelog" class="form-control"
                rows="3"></textarea>
        </div>
    
        <button (click)="createBuild_BtnClick()" type="submit" class="btn btn-primary">Create</button>
    </form>
</div>


<!-- Build Types -->
<div class="content-header border-bottom mb-4">
    <h3>Build Types</h3>
</div>

<div class="content">
    <div class="indent-content table-responsive">
        <table class="table table-striped table-sm">
            <thead>
                <tr>
                    <th>name</th>
                    <th>webhook</th>
                    <th>embed_template</th>
                </tr>
            </thead>
    
            <tbody *ngFor="let type of buildTypes">
                <tr>
                    <td>{{type.name}}</td>
                    <td>{{type.webhook_url}}</td>
                    <td>{{type.embed_template}}</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<!-- Create Build Type -->
<div class="content-header border-bottom mb-4">
    <h3>Create Build Type</h3>
</div>

<div class="content">
    <form class="indent-content" style="max-width: 30vw;">
        <div class="form-group">
            <label for="createBuildType.name">Name</label>
            <input [(ngModel)]="createBuildType.name" name="createBuildType.name" type="text" class="form-control"
                placeholder="Name">
        </div>
    
        <div class="form-group">
            <label for="createBuildType.webhook_url">Webhook URL</label>
            <input [(ngModel)]="createBuildType.webhook_url" name="createBuildType.webhook_url" type="text"
                class="form-control" placeholder="Webhook URL">
        </div>
    
        <div class="form-group">
            <label for="createBuildType.embed_template">Embed Template</label>
            <textarea [(ngModel)]="createBuildType.embed_template" name="createBuildType.embed_template"
                class="form-control" rows="3"></textarea>
        </div>
    
        <button (click)="createBuildType_BtnClick()" type="submit" class="btn btn-primary">Create</button>
    </form>
</div>